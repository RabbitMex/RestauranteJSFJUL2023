/**
 * 
 */
package restauranteweb.controllers;

import java.util.List;

import javax.annotation.PostConstruct;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.bean.ViewScoped;

import restauranteentities.entity.Sucursal;
import restauranteweb.session.SessionBean;
import restauranteservice.services.AdminSucursalService;

/**
 * @author Daniel Bastian Luna
 * 
 * Clase controles que permite la comunicacion con la pantalla adminsucursales
 * 
 */
@ManagedBean
@ViewScoped
public class AdminSucursalesController {
	/**
	 * Lista de sucursales a mostrar en al pagina
	 */
	private List<Sucursal> sucursales;
	/**
	 * Objeto que contiene la informacion de sesion del usuario
	 */
	@ManagedProperty("#{sessionBean}")
	private SessionBean sessionBean;
	/**
	 * Objeto que permite realizar la logica de negocio para el administrador
	 * de sucursal o restaurante.
	 */
	private AdminSucursalService adminSucursalService = new AdminSucursalService();
	
	/**
	 * 
	 */
	@PostConstruct
	public void init() {
		this.consultar();
	}
	
	public void consultar() {
		int idRestauranteUsuarioSesion = sessionBean.getEmpleado().getSucursal().getIdSucursal();
		this.adminSucursalService.consultarSucursalesPorRestaurante(idRestauranteUsuarioSesion);
	}
}
